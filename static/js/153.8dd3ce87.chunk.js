"use strict";(self.webpackChunkto_do_app=self.webpackChunkto_do_app||[]).push([[153],{3534:(e,i,t)=>{t.r(i),t.d(i,{default:()=>O});var o=t(4802),l=t(9611),d=t(6240),n=t(344),s=t(8903),a=t(7715),r=t(2314),c=t(1906),u=t(7392),v=t(3987),f=t(5263),g=t(5865),h=t(5043),p=t(6446),x=t(7760),A=t(9367),y=t(3003),m=t(2134),j=t(9442),D=t(9650),C=t(1806),w=t(4882),k=t(8076),b=t(2420),S=t(3460),B=t(1241),W=t(1218),_=t(6710),I=t(579);const G=e=>{const[i,t]=(0,h.useState)({allTableData:[],rowsData:[]});(0,h.useEffect)((()=>{if(null!==e&&void 0!==e&&e.dbId){(async()=>{const i=(await j.A.get(`/getAllData?id=${null===e||void 0===e?void 0:e.dbId}`)).data.result.rows.filter((e=>{let{status:i}=e;return"Pending"===i}));t((e=>(e.allTableData=i,{...e})))})()}}),[e.dbId,i]);const[o,l]=(0,h.useState)(null);(0,h.useEffect)((()=>{if(null!==e&&void 0!==e&&e.id){var o;const l=null===i||void 0===i||null===(o=i.allTableData)||void 0===o?void 0:o.filter((i=>{let{type:t}=i;return"Work"===e.id?"WK"===t:"Grocery"===e.id?"GY"===t:"OFC"===t}));t((e=>({...e,rowsData:l})))}}),[e.id,i.allTableData]);const d=(0,y.wA)(),n=(i,t)=>{l(t);(async i=>{1===(await j.A.put(`/updateData?dbId=${e.dbId}&description=${i}`)).data.Status_Cd?d((0,_.t)(!0,"success","Data updated Successfully")):d((0,_.t)(!0,"error","Data not updated"));const t=await j.A.get(`/getAllData?id=${null===e||void 0===e?void 0:e.dbId}`),o=t.data.result.rows.filter((e=>{let{status:i}=e;return"Pending"===i}));if(1===t.data.Status_Cd){const i=o.filter((e=>{let{type:i}=e;return"WK"===i}));e.updateBadge("WK",null===i||void 0===i?void 0:i.length)}if(1===t.data.Status_Cd){const i=o.filter((e=>{let{type:i}=e;return"GY"===i}));e.updateBadge("GY",null===i||void 0===i?void 0:i.length)}if(1===t.data.Status_Cd){const i=o.filter((e=>{let{type:i}=e;return"OFC"===i}));e.updateBadge("OFC",null===i||void 0===i?void 0:i.length)}})(i.target.closest("tr").firstElementChild.textContent.trim())},[a]=(0,W.A)("/103133__robinhood76__01892-completed-spell.wav",{volume:.25});return(0,I.jsx)(s.Ay,{container:!0,justifyContent:"center",children:(0,I.jsx)(s.Ay,{item:!0,xs:10,sm:6,md:6,children:(0,I.jsx)(D.A,{children:(0,I.jsxs)(C.A,{children:[(0,I.jsx)(w.A,{children:(0,I.jsxs)(k.A,{children:[(0,I.jsx)(b.A,{className:"tableCell",children:"Description"}),(0,I.jsx)(b.A,{align:"left",className:"tableCell",children:"Mark as Completed"})]})}),(0,I.jsx)(S.A,{children:null===i||void 0===i?void 0:i.rowsData.map(((e,i)=>(0,I.jsxs)(k.A,{children:[(0,I.jsx)(b.A,{component:"th",scope:"row",children:null===e||void 0===e?void 0:e.description}),(0,I.jsx)(b.A,{component:"th",scope:"row",children:(0,I.jsx)(B.A,{checked:o===i,onChange:(e,i)=>n(e,i),value:i,onMouseDown:a})})]},i)))})]})})})})},N=e=>{var i;const[t,o]=(0,h.useState)({id:"",initialData:"",workDescription:"",groceryDescription:"",officeDescription:"",dbId:"",flag:""}),l=(0,y.wA)();(0,h.useEffect)((()=>{const i=document.getElementsByTagName("input")[0];setTimeout((()=>{null===i||void 0===i||i.focus()}),10),o((i=>(i.id=null===e||void 0===e?void 0:e.id,i.workDescription="",i.groceryDescription="",i.officeDescription="",{...i})))}),[null===e||void 0===e?void 0:e.id]);const d=null===(i=(0,m.zy)().state)||void 0===i?void 0:i.userId;(0,h.useEffect)((()=>{o((e=>(e.dbId=d,{...e})))}),[]);const n=e=>{"Work"===(null===t||void 0===t?void 0:t.id)?o((i=>(i.workDescription=e.target.value,{...i}))):"Grocery"===(null===t||void 0===t?void 0:t.id)?o((i=>(i.groceryDescription=e.target.value,{...i}))):o((i=>(i.officeDescription=e.target.value,{...i})))},a=(0,h.useCallback)((async()=>{if((null===t||void 0===t?void 0:t.workDescription.length)>0){if(1===(await j.A.post("/descriptionData",t)).data.Status_Cd)return o((e=>(e.workDescription="",{...e}))),void l((0,_.t)(!0,"success","Data Saved Successfully!"));l((0,_.t)(!0,"error","Data not saved"))}else if((null===t||void 0===t?void 0:t.groceryDescription.length)>0){if(1===(await j.A.post("/descriptionData",t)).data.Status_Cd)return o((e=>(e.groceryDescription="",{...e}))),void l((0,_.t)(!0,"success","Data Saved Successfully!"));l((0,_.t)(!0,"error","Data not saved"))}else{if(1===(await j.A.post("/descriptionData",t)).data.Status_Cd)return o((e=>(e.officeDescription="",{...e}))),void l((0,_.t)(!0,"success","Data Saved Successfully!"));l((0,_.t)(!0,"error","Data not saved"))}o((e=>(e.flag=!0,{...e})))}),[t,l]);return(0,h.useEffect)((()=>{(async()=>{const i=await j.A.get(`/getAllData?id=${null===t||void 0===t?void 0:t.dbId}`),o=i.data.result.rows.filter((e=>{let{status:i}=e;return"Pending"===i}));1===i.data.Status_Cd&&["WK","GY","OFC"].forEach((i=>{const t=o.filter((e=>e.type===i));e.updateBadge(i,t.length)}))})()}),[a]),(0,h.useEffect)((()=>{(async()=>{const i=await j.A.get(`/getAllData?id=${null===t||void 0===t?void 0:t.dbId}`),o=i.data.result.rows.filter((e=>{let{status:i}=e;return"Pending"===i}));1===i.data.Status_Cd&&["WK","GY","OFC"].forEach((i=>{const t=o.filter((e=>e.type===i));e.updateBadge(i,t.length)}))})()}),[null===t||void 0===t?void 0:t.dbId]),(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(A.vd,{children:(0,I.jsx)(A.mg,{title:"My To-Do App"})}),(0,I.jsx)(s.Ay,{container:!0,className:"main",children:(0,I.jsxs)(s.Ay,{item:!0,xs:12,sm:12,md:12,children:[(0,I.jsxs)(s.Ay,{container:!0,spacing:1,children:[(0,I.jsx)(s.Ay,{item:!0,xs:12,sm:12,md:12,className:"container",children:(0,I.jsxs)(g.A,{variant:"h5",children:["Add Your ",null===e||void 0===e?void 0:e.id]})}),(0,I.jsx)(s.Ay,{item:!0,xs:12,sm:12,md:12,className:"container",children:(0,I.jsx)(p.A,{sx:{width:500,maxWidth:"80%"},children:(null===t||void 0===t?void 0:t.workDescription.length)>0?(0,I.jsx)(x.A,{fullWidth:!0,onChange:n,value:null===t||void 0===t?void 0:t.workDescription}):(null===t||void 0===t?void 0:t.groceryDescription.length)>0?(0,I.jsx)(x.A,{fullWidth:!0,onChange:n,value:null===t||void 0===t?void 0:t.groceryDescription}):(null===t||void 0===t?void 0:t.officeDescription.length)>0?(0,I.jsx)(x.A,{fullWidth:!0,onChange:n,value:null===t||void 0===t?void 0:t.officeDescription}):(0,I.jsx)(x.A,{fullWidth:!0,onChange:n,value:null===t||void 0===t?void 0:t.initialData})})}),(0,I.jsx)(s.Ay,{item:!0,xs:12,sm:12,md:12,className:"container",children:(0,I.jsx)(c.A,{variant:"contained",onClick:a,children:"Add"})})]}),(0,I.jsx)(s.Ay,{item:!0,marginTop:"1rem",children:(0,I.jsx)(G,{id:null===t||void 0===t?void 0:t.id,dbId:null===t||void 0===t?void 0:t.dbId,updateBadge:e.updateBadge,flag:null===t||void 0===t?void 0:t.flag})})]})})]})},O=()=>{const[e,i]=(0,h.useState)(!1),[t,p]=(0,h.useState)({initialData:"Work",workBadge:0,groceryBadge:0,officeBadge:0}),x=e=>{p((i=>(i.initialData=e.target.id,{...i})))},A=()=>{i(!1)},y=(0,d.A)(),m=(0,n.A)(y.breakpoints.down("md"));return(0,I.jsxs)(h.Fragment,{children:[(0,I.jsx)(r.A,{position:"static",className:"appbar",children:(0,I.jsx)(f.A,{children:(0,I.jsxs)(s.Ay,{container:!0,children:[(0,I.jsxs)(s.Ay,{item:!0,md:12,sx:{display:{xs:"flex",md:"none"},flexDirection:"column"},children:[(0,I.jsx)(u.A,{onClick:e=>{e.currentTarget&&i(!0)},sx:{color:"white",padding:"0px"},children:(0,I.jsx)(l.A,{})}),(0,I.jsxs)(v.A,{anchorOrigin:{vertical:"top",horizontal:"left"},open:e,onClose:A,sx:{display:{xs:"block",md:"none"},"& .mobileview":{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},PaperProps:{style:{maxHeight:"none",width:m?"100%":"30ch",backgroundColor:"darkgrey"}},children:[(0,I.jsx)(s.Ay,{item:!0,className:"close-icon",onClick:A,children:(0,I.jsx)(o.A,{})}),(0,I.jsxs)(s.Ay,{item:!0,className:"mobileview",children:[(0,I.jsx)(a.A,{badgeContent:null===t||void 0===t?void 0:t.workBadge,color:"success",children:(0,I.jsx)(c.A,{id:"Work",sx:{display:"block",color:"white",fontSize:"large"},onClick:e=>{x(e),A()},children:"Work"})}),(0,I.jsx)(a.A,{badgeContent:null===t||void 0===t?void 0:t.groceryBadge,color:"success",children:(0,I.jsx)(c.A,{id:"Grocery",sx:{display:"block",color:"white",fontSize:"large"},onClick:e=>{x(e),A()},children:"Grocery"})}),(0,I.jsx)(a.A,{badgeContent:null===t||void 0===t?void 0:t.officeBadge,color:"success",children:(0,I.jsx)(c.A,{id:"Office",sx:{display:"block",color:"white",fontSize:"large"},onClick:e=>{x(e),A()},children:"Office"})})]})]})]}),(0,I.jsxs)(s.Ay,{container:!0,justifyContent:"space-evenly",children:[(0,I.jsx)(s.Ay,{item:!0,md:5,className:"item",sx:{display:{xs:"none",md:"flex"}},children:(0,I.jsx)(g.A,{variant:"h6",sx:{fontWeight:"bold",fontFamily:"cursive",color:"goldenrod"},children:"ToDO App"})}),(0,I.jsxs)(s.Ay,{item:!0,md:6,sx:{display:{xs:"none",md:"flex",justifyContent:"space-evenly"}},children:[(0,I.jsx)(a.A,{badgeContent:null===t||void 0===t?void 0:t.workBadge,color:"success",children:(0,I.jsx)(c.A,{onClick:x,id:"Work",children:"Work"})}),(0,I.jsx)(a.A,{badgeContent:null===t||void 0===t?void 0:t.groceryBadge,color:"success",children:(0,I.jsx)(c.A,{onClick:x,id:"Grocery",children:"Grocery"})}),(0,I.jsx)(a.A,{badgeContent:null===t||void 0===t?void 0:t.officeBadge,color:"success",children:(0,I.jsx)(c.A,{onClick:x,id:"Office",children:"Office"})})]})]})]})})}),(0,I.jsx)(s.Ay,{container:!0,children:(0,I.jsx)(N,{id:null===t||void 0===t?void 0:t.initialData,updateBadge:(e,i)=>{p((t=>"WK"===e?{...t,workBadge:i}:"GY"===e?{...t,groceryBadge:i}:{...t,officeBadge:i}))}})})]})}}}]);
//# sourceMappingURL=153.8dd3ce87.chunk.js.map