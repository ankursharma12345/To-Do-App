"use strict";(self.webpackChunkto_do_app=self.webpackChunkto_do_app||[]).push([[153],{3534:(e,i,t)=>{t.r(i),t.d(i,{default:()=>I});var o=t(4802),d=t(9611),l=t(6240),n=t(344),s=t(8903),a=t(7715),r=t(2314),c=t(1906),u=t(7392),v=t(3987),f=t(5263),p=t(5865),g=t(5043),h=t(6446),x=t(7760),A=t(6213),y=t(3003),m=t(2134),j=t(6710),D=t(9650),C=t(1806),w=t(4882),S=t(8076),k=t(2420),_=t(3460),b=t(1241),T=t(1218),E=t(579);const W=e=>{const[i,t]=(0,g.useState)({allTableData:[],rowsData:[]}),o={NODE_ENV:"production",PUBLIC_URL:"/To-Do-App",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL;(0,g.useEffect)((()=>{if(null!==e&&void 0!==e&&e.dbId){(async()=>{const i=(await A.A.get(`${o}/getAllData?id=${null===e||void 0===e?void 0:e.dbId}`)).data.result.rows.filter((e=>{let{status:i}=e;return"Pending"===i}));t((e=>(e.allTableData=i,{...e})))})()}}),[e.dbId,i]);const[d,l]=(0,g.useState)(null);(0,g.useEffect)((()=>{if(null!==e&&void 0!==e&&e.id){var o;const d=null===i||void 0===i||null===(o=i.allTableData)||void 0===o?void 0:o.filter((i=>{let{type:t}=i;return"Work"===e.id?"WK"===t:"Grocery"===e.id?"GY"===t:"OFC"===t}));t((e=>({...e,rowsData:d})))}}),[e.id,i.allTableData]);const n=(0,y.wA)(),a=(i,t)=>{l(t);(async i=>{1===(await A.A.put(`${o}/updateData?dbId=${e.dbId}&description=${i}`)).data.Status_Cd?n((0,j.t)(!0,"success","Data updated Successfully")):n((0,j.t)(!0,"error","Data not updated"));const t=await A.A.get(`${o}/getAllData?id=${null===e||void 0===e?void 0:e.dbId}`),d=t.data.result.rows.filter((e=>{let{status:i}=e;return"Pending"===i}));if(1===t.data.Status_Cd){const i=d.filter((e=>{let{type:i}=e;return"WK"===i}));e.updateBadge("WK",null===i||void 0===i?void 0:i.length)}if(1===t.data.Status_Cd){const i=d.filter((e=>{let{type:i}=e;return"GY"===i}));e.updateBadge("GY",null===i||void 0===i?void 0:i.length)}if(1===t.data.Status_Cd){const i=d.filter((e=>{let{type:i}=e;return"OFC"===i}));e.updateBadge("OFC",null===i||void 0===i?void 0:i.length)}})(i.target.closest("tr").firstElementChild.textContent.trim())},[r]=(0,T.A)("/103133__robinhood76__01892-completed-spell.wav",{volume:.25});return(0,E.jsx)(s.Ay,{container:!0,justifyContent:"center",children:(0,E.jsx)(s.Ay,{item:!0,xs:10,sm:6,md:6,children:(0,E.jsx)(D.A,{children:(0,E.jsxs)(C.A,{children:[(0,E.jsx)(w.A,{children:(0,E.jsxs)(S.A,{children:[(0,E.jsx)(k.A,{className:"tableCell",children:"Description"}),(0,E.jsx)(k.A,{align:"left",className:"tableCell",children:"Mark as Completed"})]})}),(0,E.jsx)(_.A,{children:null===i||void 0===i?void 0:i.rowsData.map(((e,i)=>(0,E.jsxs)(S.A,{children:[(0,E.jsx)(k.A,{component:"th",scope:"row",children:null===e||void 0===e?void 0:e.description}),(0,E.jsx)(k.A,{component:"th",scope:"row",children:(0,E.jsx)(b.A,{checked:d===i,onChange:(e,i)=>a(e,i),value:i,onMouseDown:r})})]},i)))})]})})})})};var B=t(9367);const O=e=>{var i;const[t,o]=(0,g.useState)({id:"",initialData:"",workDescription:"",groceryDescription:"",officeDescription:"",dbId:"",flag:""}),d=(0,y.wA)();(0,g.useEffect)((()=>{const i=document.getElementsByTagName("input")[0];setTimeout((()=>{null===i||void 0===i||i.focus()}),10),o((i=>(i.id=null===e||void 0===e?void 0:e.id,i.workDescription="",i.groceryDescription="",i.officeDescription="",{...i})))}),[null===e||void 0===e?void 0:e.id]);const l=null===(i=(0,m.zy)().state)||void 0===i?void 0:i.userId;(0,g.useEffect)((()=>{o((e=>(e.dbId=l,{...e})))}),[]);const n=e=>{"Work"===(null===t||void 0===t?void 0:t.id)?o((i=>(i.workDescription=e.target.value,{...i}))):"Grocery"===(null===t||void 0===t?void 0:t.id)?o((i=>(i.groceryDescription=e.target.value,{...i}))):o((i=>(i.officeDescription=e.target.value,{...i})))},a={NODE_ENV:"production",PUBLIC_URL:"/To-Do-App",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL,r=(0,g.useCallback)((async()=>{if((null===t||void 0===t?void 0:t.workDescription.length)>0){if(1===(await A.A.post(`${a}/descriptionData`,t)).data.Status_Cd)return o((e=>(e.workDescription="",{...e}))),void d((0,j.t)(!0,"success","Data Saved Successfully!"));d((0,j.t)(!0,"error","Data not saved"))}else if((null===t||void 0===t?void 0:t.groceryDescription.length)>0){if(1===(await A.A.post(`${a}/descriptionData`,t)).data.Status_Cd)return o((e=>(e.groceryDescription="",{...e}))),void d((0,j.t)(!0,"success","Data Saved Successfully!"));d((0,j.t)(!0,"error","Data not saved"))}else{if(1===(await A.A.post(`${a}/descriptionData`,t)).data.Status_Cd)return o((e=>(e.officeDescription="",{...e}))),void d((0,j.t)(!0,"success","Data Saved Successfully!"));d((0,j.t)(!0,"error","Data not saved"))}o((e=>(e.flag=!0,{...e})))}),[t,d]);return(0,g.useEffect)((()=>{(async()=>{const i=await A.A.get(`${a}/getAllData?id=${null===t||void 0===t?void 0:t.dbId}`),o=i.data.result.rows.filter((e=>{let{status:i}=e;return"Pending"===i}));1===i.data.Status_Cd&&["WK","GY","OFC"].forEach((i=>{const t=o.filter((e=>e.type===i));e.updateBadge(i,t.length)}))})()}),[r]),(0,g.useEffect)((()=>{(async()=>{const i=await A.A.get(`${a}/getAllData?id=${null===t||void 0===t?void 0:t.dbId}`),o=i.data.result.rows.filter((e=>{let{status:i}=e;return"Pending"===i}));1===i.data.Status_Cd&&["WK","GY","OFC"].forEach((i=>{const t=o.filter((e=>e.type===i));e.updateBadge(i,t.length)}))})()}),[null===t||void 0===t?void 0:t.dbId]),(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(B.vd,{children:(0,E.jsx)(B.mg,{title:"My To-Do App"})}),(0,E.jsx)(s.Ay,{container:!0,className:"main",children:(0,E.jsxs)(s.Ay,{item:!0,xs:12,sm:12,md:12,children:[(0,E.jsxs)(s.Ay,{container:!0,spacing:1,children:[(0,E.jsx)(s.Ay,{item:!0,xs:12,sm:12,md:12,className:"container",children:(0,E.jsxs)(p.A,{variant:"h5",children:["Add Your ",null===e||void 0===e?void 0:e.id]})}),(0,E.jsx)(s.Ay,{item:!0,xs:12,sm:12,md:12,className:"container",children:(0,E.jsx)(h.A,{sx:{width:500,maxWidth:"80%"},children:(null===t||void 0===t?void 0:t.workDescription.length)>0?(0,E.jsx)(x.A,{fullWidth:!0,onChange:n,value:null===t||void 0===t?void 0:t.workDescription}):(null===t||void 0===t?void 0:t.groceryDescription.length)>0?(0,E.jsx)(x.A,{fullWidth:!0,onChange:n,value:null===t||void 0===t?void 0:t.groceryDescription}):(null===t||void 0===t?void 0:t.officeDescription.length)>0?(0,E.jsx)(x.A,{fullWidth:!0,onChange:n,value:null===t||void 0===t?void 0:t.officeDescription}):(0,E.jsx)(x.A,{fullWidth:!0,onChange:n,value:null===t||void 0===t?void 0:t.initialData})})}),(0,E.jsx)(s.Ay,{item:!0,xs:12,sm:12,md:12,className:"container",children:(0,E.jsx)(c.A,{variant:"contained",onClick:r,children:"Add"})})]}),(0,E.jsx)(s.Ay,{item:!0,marginTop:"1rem",children:(0,E.jsx)(W,{id:null===t||void 0===t?void 0:t.id,dbId:null===t||void 0===t?void 0:t.dbId,updateBadge:e.updateBadge,flag:null===t||void 0===t?void 0:t.flag})})]})})]})},I=()=>{const[e,i]=(0,g.useState)(!1),[t,h]=(0,g.useState)({initialData:"Work",workBadge:0,groceryBadge:0,officeBadge:0}),x=e=>{h((i=>(i.initialData=e.target.id,{...i})))},A=()=>{i(!1)},y=(0,l.A)(),m=(0,n.A)(y.breakpoints.down("md"));return(0,E.jsxs)(g.Fragment,{children:[(0,E.jsx)(r.A,{position:"static",className:"appbar",children:(0,E.jsx)(f.A,{children:(0,E.jsxs)(s.Ay,{container:!0,children:[(0,E.jsxs)(s.Ay,{item:!0,md:12,sx:{display:{xs:"flex",md:"none"},flexDirection:"column"},children:[(0,E.jsx)(u.A,{onClick:e=>{e.currentTarget&&i(!0)},sx:{color:"white",padding:"0px"},children:(0,E.jsx)(d.A,{})}),(0,E.jsxs)(v.A,{anchorOrigin:{vertical:"top",horizontal:"left"},open:e,onClose:A,sx:{display:{xs:"block",md:"none"},"& .mobileview":{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},PaperProps:{style:{maxHeight:"none",width:m?"100%":"30ch",backgroundColor:"darkgrey"}},children:[(0,E.jsx)(s.Ay,{item:!0,className:"close-icon",onClick:A,children:(0,E.jsx)(o.A,{})}),(0,E.jsxs)(s.Ay,{item:!0,className:"mobileview",children:[(0,E.jsx)(a.A,{badgeContent:null===t||void 0===t?void 0:t.workBadge,color:"success",children:(0,E.jsx)(c.A,{id:"Work",sx:{display:"block",color:"white",fontSize:"large"},onClick:e=>{x(e),A()},children:"Work"})}),(0,E.jsx)(a.A,{badgeContent:null===t||void 0===t?void 0:t.groceryBadge,color:"success",children:(0,E.jsx)(c.A,{id:"Grocery",sx:{display:"block",color:"white",fontSize:"large"},onClick:e=>{x(e),A()},children:"Grocery"})}),(0,E.jsx)(a.A,{badgeContent:null===t||void 0===t?void 0:t.officeBadge,color:"success",children:(0,E.jsx)(c.A,{id:"Office",sx:{display:"block",color:"white",fontSize:"large"},onClick:e=>{x(e),A()},children:"Office"})})]})]})]}),(0,E.jsxs)(s.Ay,{container:!0,justifyContent:"space-evenly",children:[(0,E.jsx)(s.Ay,{item:!0,md:5,className:"item",sx:{display:{xs:"none",md:"flex"}},children:(0,E.jsx)(p.A,{variant:"h6",sx:{fontWeight:"bold",fontFamily:"cursive",color:"goldenrod"},children:"ToDO App"})}),(0,E.jsxs)(s.Ay,{item:!0,md:6,sx:{display:{xs:"none",md:"flex",justifyContent:"space-evenly"}},children:[(0,E.jsx)(a.A,{badgeContent:null===t||void 0===t?void 0:t.workBadge,color:"success",children:(0,E.jsx)(c.A,{onClick:x,id:"Work",children:"Work"})}),(0,E.jsx)(a.A,{badgeContent:null===t||void 0===t?void 0:t.groceryBadge,color:"success",children:(0,E.jsx)(c.A,{onClick:x,id:"Grocery",children:"Grocery"})}),(0,E.jsx)(a.A,{badgeContent:null===t||void 0===t?void 0:t.officeBadge,color:"success",children:(0,E.jsx)(c.A,{onClick:x,id:"Office",children:"Office"})})]})]})]})})}),(0,E.jsx)(s.Ay,{container:!0,children:(0,E.jsx)(O,{id:null===t||void 0===t?void 0:t.initialData,updateBadge:(e,i)=>{h((t=>"WK"===e?{...t,workBadge:i}:"GY"===e?{...t,groceryBadge:i}:{...t,officeBadge:i}))}})})]})}}}]);
//# sourceMappingURL=153.fc49cf5f.chunk.js.map