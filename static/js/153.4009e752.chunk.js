"use strict";(self.webpackChunkto_do_app=self.webpackChunkto_do_app||[]).push([[153],{3534:(e,t,i)=>{i.r(t),i.d(t,{default:()=>O});var o=i(4802),l=i(9611),d=i(6240),s=i(344),n=i(8903),a=i(7715),r=i(2314),c=i(1906),u=i(7392),h=i(3987),v=i(5263),p=i(5865),f=i(5043),g=i(6446),x=i(7760),A=i(6213),y=i(3003),m=i(2134),j=i(6710),D=i(9650),C=i(1806),w=i(4882),k=i(8076),b=i(2420),S=i(3460),B=i(1241),W=i(1218),_=i(579);const I=e=>{const[t,i]=(0,f.useState)({allTableData:[],rowsData:[]});(0,f.useEffect)((()=>{if(null!==e&&void 0!==e&&e.dbId){(async()=>{const t=(await A.A.get(`http://localhost:4000/getAllData?id=${null===e||void 0===e?void 0:e.dbId}`)).data.result.rows.filter((e=>{let{status:t}=e;return"Pending"===t}));i((e=>(e.allTableData=t,{...e})))})()}}),[e.dbId,t]);const[o,l]=(0,f.useState)(null);(0,f.useEffect)((()=>{if(null!==e&&void 0!==e&&e.id){var o;const l=null===t||void 0===t||null===(o=t.allTableData)||void 0===o?void 0:o.filter((t=>{let{type:i}=t;return"Work"===e.id?"WK"===i:"Grocery"===e.id?"GY"===i:"OFC"===i}));i((e=>({...e,rowsData:l})))}}),[e.id,t.allTableData]);const d=(0,y.wA)(),s=(t,i)=>{l(i);(async t=>{1===(await A.A.put(`http://localhost:4000/updateData?dbId=${e.dbId}&description=${t}`)).data.Status_Cd?d((0,j.t)(!0,"success","Data updated Successfully")):d((0,j.t)(!0,"error","Data not updated"));const i=await A.A.get(`http://localhost:4000/getAllData?id=${null===e||void 0===e?void 0:e.dbId}`),o=i.data.result.rows.filter((e=>{let{status:t}=e;return"Pending"===t}));if(1===i.data.Status_Cd){const t=o.filter((e=>{let{type:t}=e;return"WK"===t}));e.updateBadge("WK",null===t||void 0===t?void 0:t.length)}if(1===i.data.Status_Cd){const t=o.filter((e=>{let{type:t}=e;return"GY"===t}));e.updateBadge("GY",null===t||void 0===t?void 0:t.length)}if(1===i.data.Status_Cd){const t=o.filter((e=>{let{type:t}=e;return"OFC"===t}));e.updateBadge("OFC",null===t||void 0===t?void 0:t.length)}})(t.target.closest("tr").firstElementChild.textContent.trim())},[a]=(0,W.A)("/103133__robinhood76__01892-completed-spell.wav",{volume:.25});return(0,_.jsx)(n.Ay,{container:!0,justifyContent:"center",children:(0,_.jsx)(n.Ay,{item:!0,xs:10,sm:6,md:6,children:(0,_.jsx)(D.A,{children:(0,_.jsxs)(C.A,{children:[(0,_.jsx)(w.A,{children:(0,_.jsxs)(k.A,{children:[(0,_.jsx)(b.A,{className:"tableCell",children:"Description"}),(0,_.jsx)(b.A,{align:"left",className:"tableCell",children:"Mark as Completed"})]})}),(0,_.jsx)(S.A,{children:null===t||void 0===t?void 0:t.rowsData.map(((e,t)=>(0,_.jsxs)(k.A,{children:[(0,_.jsx)(b.A,{component:"th",scope:"row",children:null===e||void 0===e?void 0:e.description}),(0,_.jsx)(b.A,{component:"th",scope:"row",children:(0,_.jsx)(B.A,{checked:o===t,onChange:(e,t)=>s(e,t),value:t,onMouseDown:a})})]},t)))})]})})})})};var G=i(9367);const N=e=>{var t;const[i,o]=(0,f.useState)({id:"",initialData:"",workDescription:"",groceryDescription:"",officeDescription:"",dbId:"",flag:""}),l=(0,y.wA)();(0,f.useEffect)((()=>{const t=document.getElementsByTagName("input")[0];setTimeout((()=>{null===t||void 0===t||t.focus()}),10),o((t=>(t.id=null===e||void 0===e?void 0:e.id,t.workDescription="",t.groceryDescription="",t.officeDescription="",{...t})))}),[null===e||void 0===e?void 0:e.id]);const d=null===(t=(0,m.zy)().state)||void 0===t?void 0:t.userId;(0,f.useEffect)((()=>{o((e=>(e.dbId=d,{...e})))}),[]);const s=e=>{"Work"===(null===i||void 0===i?void 0:i.id)?o((t=>(t.workDescription=e.target.value,{...t}))):"Grocery"===(null===i||void 0===i?void 0:i.id)?o((t=>(t.groceryDescription=e.target.value,{...t}))):o((t=>(t.officeDescription=e.target.value,{...t})))},a=(0,f.useCallback)((async()=>{if((null===i||void 0===i?void 0:i.workDescription.length)>0){if(1===(await A.A.post("http://localhost:4000/descriptionData",i)).data.Status_Cd)return o((e=>(e.workDescription="",{...e}))),void l((0,j.t)(!0,"success","Data Saved Successfully!"));l((0,j.t)(!0,"error","Data not saved"))}else if((null===i||void 0===i?void 0:i.groceryDescription.length)>0){if(1===(await A.A.post("http://localhost:4000/descriptionData",i)).data.Status_Cd)return o((e=>(e.groceryDescription="",{...e}))),void l((0,j.t)(!0,"success","Data Saved Successfully!"));l((0,j.t)(!0,"error","Data not saved"))}else{if(1===(await A.A.post("http://localhost:4000/descriptionData",i)).data.Status_Cd)return o((e=>(e.officeDescription="",{...e}))),void l((0,j.t)(!0,"success","Data Saved Successfully!"));l((0,j.t)(!0,"error","Data not saved"))}o((e=>(e.flag=!0,{...e})))}),[i,l]);return(0,f.useEffect)((()=>{(async()=>{const t=await A.A.get(`http://localhost:4000/getAllData?id=${null===i||void 0===i?void 0:i.dbId}`),o=t.data.result.rows.filter((e=>{let{status:t}=e;return"Pending"===t}));1===t.data.Status_Cd&&["WK","GY","OFC"].forEach((t=>{const i=o.filter((e=>e.type===t));e.updateBadge(t,i.length)}))})()}),[a]),(0,f.useEffect)((()=>{(async()=>{const t=await A.A.get(`http://localhost:4000/getAllData?id=${null===i||void 0===i?void 0:i.dbId}`),o=t.data.result.rows.filter((e=>{let{status:t}=e;return"Pending"===t}));1===t.data.Status_Cd&&["WK","GY","OFC"].forEach((t=>{const i=o.filter((e=>e.type===t));e.updateBadge(t,i.length)}))})()}),[null===i||void 0===i?void 0:i.dbId]),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(G.vd,{children:(0,_.jsx)(G.mg,{title:"My To-Do App"})}),(0,_.jsx)(n.Ay,{container:!0,className:"main",children:(0,_.jsxs)(n.Ay,{item:!0,xs:12,sm:12,md:12,children:[(0,_.jsxs)(n.Ay,{container:!0,spacing:1,children:[(0,_.jsx)(n.Ay,{item:!0,xs:12,sm:12,md:12,className:"container",children:(0,_.jsxs)(p.A,{variant:"h5",children:["Add Your ",null===e||void 0===e?void 0:e.id]})}),(0,_.jsx)(n.Ay,{item:!0,xs:12,sm:12,md:12,className:"container",children:(0,_.jsx)(g.A,{sx:{width:500,maxWidth:"80%"},children:(null===i||void 0===i?void 0:i.workDescription.length)>0?(0,_.jsx)(x.A,{fullWidth:!0,onChange:s,value:null===i||void 0===i?void 0:i.workDescription}):(null===i||void 0===i?void 0:i.groceryDescription.length)>0?(0,_.jsx)(x.A,{fullWidth:!0,onChange:s,value:null===i||void 0===i?void 0:i.groceryDescription}):(null===i||void 0===i?void 0:i.officeDescription.length)>0?(0,_.jsx)(x.A,{fullWidth:!0,onChange:s,value:null===i||void 0===i?void 0:i.officeDescription}):(0,_.jsx)(x.A,{fullWidth:!0,onChange:s,value:null===i||void 0===i?void 0:i.initialData})})}),(0,_.jsx)(n.Ay,{item:!0,xs:12,sm:12,md:12,className:"container",children:(0,_.jsx)(c.A,{variant:"contained",onClick:a,children:"Add"})})]}),(0,_.jsx)(n.Ay,{item:!0,marginTop:"1rem",children:(0,_.jsx)(I,{id:null===i||void 0===i?void 0:i.id,dbId:null===i||void 0===i?void 0:i.dbId,updateBadge:e.updateBadge,flag:null===i||void 0===i?void 0:i.flag})})]})})]})},O=()=>{const[e,t]=(0,f.useState)(!1),[i,g]=(0,f.useState)({initialData:"Work",workBadge:0,groceryBadge:0,officeBadge:0}),x=e=>{g((t=>(t.initialData=e.target.id,{...t})))},A=()=>{t(!1)},y=(0,d.A)(),m=(0,s.A)(y.breakpoints.down("md"));return(0,_.jsxs)(f.Fragment,{children:[(0,_.jsx)(r.A,{position:"static",className:"appbar",children:(0,_.jsx)(v.A,{children:(0,_.jsxs)(n.Ay,{container:!0,children:[(0,_.jsxs)(n.Ay,{item:!0,md:12,sx:{display:{xs:"flex",md:"none"},flexDirection:"column"},children:[(0,_.jsx)(u.A,{onClick:e=>{e.currentTarget&&t(!0)},sx:{color:"white",padding:"0px"},children:(0,_.jsx)(l.A,{})}),(0,_.jsxs)(h.A,{anchorOrigin:{vertical:"top",horizontal:"left"},open:e,onClose:A,sx:{display:{xs:"block",md:"none"},"& .mobileview":{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},PaperProps:{style:{maxHeight:"none",width:m?"100%":"30ch",backgroundColor:"darkgrey"}},children:[(0,_.jsx)(n.Ay,{item:!0,className:"close-icon",onClick:A,children:(0,_.jsx)(o.A,{})}),(0,_.jsxs)(n.Ay,{item:!0,className:"mobileview",children:[(0,_.jsx)(a.A,{badgeContent:null===i||void 0===i?void 0:i.workBadge,color:"success",children:(0,_.jsx)(c.A,{id:"Work",sx:{display:"block",color:"white",fontSize:"large"},onClick:e=>{x(e),A()},children:"Work"})}),(0,_.jsx)(a.A,{badgeContent:null===i||void 0===i?void 0:i.groceryBadge,color:"success",children:(0,_.jsx)(c.A,{id:"Grocery",sx:{display:"block",color:"white",fontSize:"large"},onClick:e=>{x(e),A()},children:"Grocery"})}),(0,_.jsx)(a.A,{badgeContent:null===i||void 0===i?void 0:i.officeBadge,color:"success",children:(0,_.jsx)(c.A,{id:"Office",sx:{display:"block",color:"white",fontSize:"large"},onClick:e=>{x(e),A()},children:"Office"})})]})]})]}),(0,_.jsxs)(n.Ay,{container:!0,justifyContent:"space-evenly",children:[(0,_.jsx)(n.Ay,{item:!0,md:5,className:"item",sx:{display:{xs:"none",md:"flex"}},children:(0,_.jsx)(p.A,{variant:"h6",sx:{fontWeight:"bold",fontFamily:"cursive",color:"goldenrod"},children:"ToDO App"})}),(0,_.jsxs)(n.Ay,{item:!0,md:6,sx:{display:{xs:"none",md:"flex",justifyContent:"space-evenly"}},children:[(0,_.jsx)(a.A,{badgeContent:null===i||void 0===i?void 0:i.workBadge,color:"success",children:(0,_.jsx)(c.A,{onClick:x,id:"Work",children:"Work"})}),(0,_.jsx)(a.A,{badgeContent:null===i||void 0===i?void 0:i.groceryBadge,color:"success",children:(0,_.jsx)(c.A,{onClick:x,id:"Grocery",children:"Grocery"})}),(0,_.jsx)(a.A,{badgeContent:null===i||void 0===i?void 0:i.officeBadge,color:"success",children:(0,_.jsx)(c.A,{onClick:x,id:"Office",children:"Office"})})]})]})]})})}),(0,_.jsx)(n.Ay,{container:!0,children:(0,_.jsx)(N,{id:null===i||void 0===i?void 0:i.initialData,updateBadge:(e,t)=>{g((i=>"WK"===e?{...i,workBadge:t}:"GY"===e?{...i,groceryBadge:t}:{...i,officeBadge:t}))}})})]})}}}]);
//# sourceMappingURL=153.4009e752.chunk.js.map